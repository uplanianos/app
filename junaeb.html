<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en-US">
<html>
<head>
	<meta http-equiv="refresh" content="180">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="media/uplanianos-icon.png">
	<link rel="stylesheet" href="files/pages-style.css">
	<title>Uplanianos - Descarga Junaeb</title>
</head>

<body>
<a href="index.html"><div id="return" class="return">&larrhk;</div></a>


<!- SAVE FUNCTION ->
<!- CONNECTED TO JQUERY WITH THE FOLLOWING SCRIPT ->
<script src="scripts/jquery-3.7.1.slim.js"></script>
<!- https://stackoverflow.com/questions/39155511/html-save-text-in-textarea ->
<!- https://jquery.com/download/ ->

<script type="text/javascript">
window.onbeforeunload = function() {
     $('input').each(function(){
        var id = $(this).attr('id');
        var value = $(this).val();
       localStorage.setItem(id, value);
    });
}

window.onload = function() {
    $('input').each(function(){
       var id = $(this).attr('id');
       var text2 = localStorage.getItem(id);
       if (text2 !== null) $('#'+id).val(text2);
    });

// CALLS TO ANOTHER FUNCTION!!
initialSetup();
adjustBalance(month);

}
</script>


<div class="main">
    <div class="labels"><p>
      <select class="titleMenu" id="titleMenu" name="titleMenu" >
      <option value="0" selected disabled="disabled">☰</option>
      <option value="1">📖 Agenda</option>
      <option value="2">✔️ Asistencia</option>
      <option value="3">📁 Avance Curricular</option>
      <option value="4">🗓️ Calendario Oficial</option>
      <option value="5">⏲️ Cuenta Regresiva</option>
      <option value="6">📈 Escala de Notas</option>
      <option value="7">📚 Horario de Clases</option>
      <option value="8">💊 Justificador</option>
      <option value="9">📜 Manual Estudiante</option>
      <option value="10">✍️ Nota de Pruebas</option>
      <option value="11">💯 Promedio Integral</option>
      <option value="12">💯 Promedio Porcentual</option>
      <option value="125">🧠 Preguntas Estudio</option>
      <option value="13">📋 Simulador Examen</option>
      <option value="14">⏳ Temporizador</option>
      <option value="15">📝 Timebox (Upla)</option>
<!-- DISABLED     <option value="16">📊 Upladísticas</option> -->
    </select>
    <b>Uplanianos App:</b> Descarga Junaeb.</p></div>

<script type="text/javascript">
document.getElementById('titleMenu').addEventListener('change', function() {
 if (titleMenu.value == 1) {blurMenu(); window.location = "agenda.html"}
 if (titleMenu.value == 2) {blurMenu(); window.location = "asistencia.html?tipo=2&clases=12&asiste=0"}
 if (titleMenu.value == 3) {blurMenu(); window.location = "avance.html"}
 if (titleMenu.value == 4) {blurMenu(); window.location = "calendario.html"}
 if (titleMenu.value == 5) {blurMenu(); window.location = "countdown.html"}
 if (titleMenu.value == 6) {blurMenu(); window.location = "notas.html?escala=70"}
 if (titleMenu.value == 7) {blurMenu(); window.location = "horario.html"}
 if (titleMenu.value == 8) {blurMenu(); window.location = "justify.html"}
 if (titleMenu.value == 9) {blurMenu(); window.location = "manual-estudiante.html"}
 if (titleMenu.value == 10) {blurMenu(); window.location = "pruebas.html?total=100&puntos=0"}
 if (titleMenu.value == 11) {blurMenu(); window.location = "integrales.html?x=2&g1=0.0&g2=0.0"}
 if (titleMenu.value == 12) {blurMenu(); window.location = "promedios.html"}
 if (titleMenu.value == 125) {blurMenu(); window.location = "estudio.html"}
 if (titleMenu.value == 13) {blurMenu(); window.location = "examen.html?promedio=3.5&examen=4.0"}
 if (titleMenu.value == 14) {blurMenu(); window.location = "temporizador.html"}
 if (titleMenu.value == 15) {blurMenu(); window.location = "timebox.html"}
 if (titleMenu.value == 16) {blurMenu(); window.location = "upladisticas.html"}
});

function blurMenu(){document.getElementById('titleMenu').value = 0; document.getElementById('titleMenu').blur();}
</script> 

	<br>
	<div class="grid-item-slider">

	  <br>
	  <div><b>Compras:</b></div>
	  <br>

	  <div style="text-align: center;">Boleta N°1:<span class="money">$</span>
	  <input type="number" id="receipt1" class="junaeb-compras" value="0" min="0" step="1" onchange="adjustBalance(month)"></div>

	  <div style="text-align: center;">Boleta N°2:<span class="money">$</span>
	  <input type="number" id="receipt2" class="junaeb-compras" value="0" min="0" step="1" onchange="adjustBalance(month)"></div>

	  <div style="text-align: center;">Boleta N°3:<span class="money">$</span>
	  <input type="number" id="receipt3" class="junaeb-compras" value="0" min="0" step="1" onchange="adjustBalance(month)"></div>

	  <br>
	  <div><big><b>Saldo:</b></big></div><br>
	  <div style="text-align: center;"><input type="button" id="resetJunaeb" value="BORRAR" onclick="clearGrades()"><span class="money">$</span>
	  <input type="number" id="balance" class="junaeb-saldo" value="0" min="0" step="1" disabled readonly onchange="checkColors(month)"></div>
	  <br>
	</div>

	<br>

	<!- End of "grid-item-tools" Div ->
	</div>

    <br><br>
  </div>

<br><br>
</div>



<script type="text/javascript">
// SETTING UP GLOBAL VALUES!
// SETTING UP GLOBAL VALUES!
// SETTING UP GLOBAL VALUES!

// GETTING MONTH!
const d = new Date()
let month = d.getMonth() +1
// +1 because normally months start with Zero (0):
// Jan=0, Feb=1, Mar=2, Apr=3, May=4, Jun=5, Jul=6, Aug=7, etc... - Dec=11!

// DECLARING ELEMENTS!
var receipt1 = document.getElementById("receipt1").value
var receipt2 = document.getElementById("receipt2").value
var receipt3 = document.getElementById("receipt3").value
var balance = document.getElementById("balance")

// DECLARING VALUES PER SEMESTER!
var theMoney = 47000
var firstTerm = theMoney
var secondTerm = theMoney + 1000
var expenses = parseInt(receipt1) + parseInt(receipt2) + parseInt(receipt3)

// INITIAL SETUP (LOAD ON START)
function initialSetup() {

// UPDATING MONTHLY AMOUNT!
if (month >= 1 && month <= 2) { balance.value = 0; balance.style.backgroundColor = "gray" }
if (month >= 3 && month <= 7) { balance.value = (firstTerm-expenses) }
if (month >= 8 && month <= 12) { balance.value = (secondTerm-expenses) }

checkColors()
}

// ADJUST VALUES WHEN EXPENSES CHANGE!
function adjustBalance(month) {

// DECLARING ELEMENTS!
var receipt1 = document.getElementById("receipt1").value
var receipt2 = document.getElementById("receipt2").value
var receipt3 = document.getElementById("receipt3").value
var expenses = parseInt(receipt1) + parseInt(receipt2) + parseInt(receipt3)

if (month >= 3 && month <= 7) { balance.value = (firstTerm-expenses) }
if (month >= 8 && month <= 12) { balance.value = (secondTerm-expenses) }

checkColors()
}

// CHECK COLORS!
function checkColors() {
if (balance.value > 0) { balance.style.backgroundColor = "green" }
if (balance.value == 0) { balance.style.backgroundColor = "gray	" }
if (balance.value < 0) { balance.style.backgroundColor = "darkred" }
}

function clearGrades() {
Receipts = document.querySelectorAll('input.junaeb-compras')
for(let total of Receipts) {total.value = "0"; initialSetup();}
}

// END OF SCRIPT!
</script>



<script type="text/javascript">
var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
var currentScrollPos = window.pageYOffset;
  if (prevScrollpos > currentScrollPos) {
    document.getElementById("return").style.top = "6px"; 
  } else {
    document.getElementById("return").style.top = "-40px"; 
  }
  prevScrollpos = currentScrollPos;
}
</script>



</body>
</html>
